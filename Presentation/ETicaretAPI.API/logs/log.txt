2022-10-30 19:36:44.420 +03:00 [INF] User profile is available. Using 'C:\Users\e3b8u\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-30 19:36:45.654 +03:00 [INF] Now listening on: https://localhost:7206
2022-10-30 19:36:45.656 +03:00 [INF] Now listening on: http://localhost:5206
2022-10-30 19:36:45.661 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-30 19:36:45.663 +03:00 [INF] Hosting environment: Development
2022-10-30 19:36:45.665 +03:00 [INF] Content root path: C:\Users\e3b8u\Desktop\ETicaretUygulamasi\ETicaretAPI\Presentation\ETicaretAPI.API\
2022-10-30 19:39:43.532 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7206/api/auth/facebook-login - -
2022-10-30 19:39:43.672 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/facebook-login
Accept: */*
Host: localhost:7206
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-10-30 19:39:43.677 +03:00 [INF] CORS policy execution successful.
2022-10-30 19:39:43.680 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-10-30 19:39:43.691 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7206/api/auth/facebook-login - - - 204 - - 163.5250ms
2022-10-30 19:39:43.704 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7206/api/auth/facebook-login application/json 813
2022-10-30 19:39:43.709 +03:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/facebook-login
Accept: application/json, text/plain, */*
Host: localhost:7206
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: [Redacted]
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 813
sec-ch-ua: "Chromium";v="106", "Google Chrome";v="106", "Not;A=Brand";v="99"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-10-30 19:39:43.712 +03:00 [INF] CORS policy execution successful.
2022-10-30 19:39:43.739 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.FacebookLogin (ETicaretAPI.API)'
2022-10-30 19:39:43.767 +03:00 [INF] Route matched with {action = "FacebookLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FacebookLogin(ETicaretAPI.Application.Features.Commands.User.FacebookLogin.FacebookLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2022-10-30 19:39:43.809 +03:00 [INF] RequestBody: {"id":"137630922356968","name":"Ebubekir Aydoğmuş","email":"e3b8u@hotmail.com","photoUrl":"https://graph.facebook.com/137630922356968/picture?type=normal","firstName":"Ebubekir","lastName":"Aydoğmuş","authToken":"EAApVVKZBhCIYBABXjqpYhZCHEaNfOSt7v5eW6rmspdaHz7pfsqRliqqSN8LNqtE8YZACkcisuQPIAoi102LAv4Irx2pZBzh4ApmZCEbKqtbc4G9IzrRpwMxZBd8pmGCKOSwRgq91yxl45WwkMIp9GSZCM3iPb5hnxIU0fOZCkTjD1Y38Dfyzx323hPQOHFs6pVUHCwbkLkWtXGpMA4xZCyQhq","response":{"name":"Ebubekir Aydoğmuş","email":"e3b8u@hotmail.com","picture":{"data":{"height":51,"is_silhouette":false,"url":"https://platform-lookaside.fbsbx.com/platform/profilepic/?asid=137630922356968&height=50&width=50&ext=1669739990&hash=AeQKCBQPbpX_HBi1GM8","width":50}},"first_name":"Ebubekir","last_name":"Aydoğmuş","id":"137630922356968"},"provider":"FACEBOOK"}
2022-10-30 19:39:44.163 +03:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/oauth/access_token?client_id=2908571979286662&client_secret=43e550cf874b1648d98dbbaa69fa4dbb&grant_type=client_credentials"
2022-10-30 19:39:44.169 +03:00 [INF] Sending HTTP request GET "https://graph.facebook.com/oauth/access_token?client_id=2908571979286662&client_secret=43e550cf874b1648d98dbbaa69fa4dbb&grant_type=client_credentials"
2022-10-30 19:39:44.817 +03:00 [INF] Received HTTP response headers after 643.4152ms - 200
2022-10-30 19:39:44.819 +03:00 [INF] End processing HTTP request after 660.3964ms - 200
2022-10-30 19:39:44.823 +03:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAApVVKZBhCIYBABXjqpYhZCHEaNfOSt7v5eW6rmspdaHz7pfsqRliqqSN8LNqtE8YZACkcisuQPIAoi102LAv4Irx2pZBzh4ApmZCEbKqtbc4G9IzrRpwMxZBd8pmGCKOSwRgq91yxl45WwkMIp9GSZCM3iPb5hnxIU0fOZCkTjD1Y38Dfyzx323hPQOHFs6pVUHCwbkLkWtXGpMA4xZCyQhq&access_token=2908571979286662|FTWkpMk3XDoFa0By1SN-JVAlkKA"
2022-10-30 19:39:44.825 +03:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAApVVKZBhCIYBABXjqpYhZCHEaNfOSt7v5eW6rmspdaHz7pfsqRliqqSN8LNqtE8YZACkcisuQPIAoi102LAv4Irx2pZBzh4ApmZCEbKqtbc4G9IzrRpwMxZBd8pmGCKOSwRgq91yxl45WwkMIp9GSZCM3iPb5hnxIU0fOZCkTjD1Y38Dfyzx323hPQOHFs6pVUHCwbkLkWtXGpMA4xZCyQhq&access_token=2908571979286662|FTWkpMk3XDoFa0By1SN-JVAlkKA"
2022-10-30 19:39:44.977 +03:00 [INF] Received HTTP response headers after 150.3716ms - 200
2022-10-30 19:39:44.979 +03:00 [INF] End processing HTTP request after 155.4682ms - 200
2022-10-30 19:39:44.982 +03:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=email,name&access_token=EAApVVKZBhCIYBABXjqpYhZCHEaNfOSt7v5eW6rmspdaHz7pfsqRliqqSN8LNqtE8YZACkcisuQPIAoi102LAv4Irx2pZBzh4ApmZCEbKqtbc4G9IzrRpwMxZBd8pmGCKOSwRgq91yxl45WwkMIp9GSZCM3iPb5hnxIU0fOZCkTjD1Y38Dfyzx323hPQOHFs6pVUHCwbkLkWtXGpMA4xZCyQhq"
2022-10-30 19:39:44.984 +03:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=email,name&access_token=EAApVVKZBhCIYBABXjqpYhZCHEaNfOSt7v5eW6rmspdaHz7pfsqRliqqSN8LNqtE8YZACkcisuQPIAoi102LAv4Irx2pZBzh4ApmZCEbKqtbc4G9IzrRpwMxZBd8pmGCKOSwRgq91yxl45WwkMIp9GSZCM3iPb5hnxIU0fOZCkTjD1Y38Dfyzx323hPQOHFs6pVUHCwbkLkWtXGpMA4xZCyQhq"
2022-10-30 19:39:45.190 +03:00 [INF] Received HTTP response headers after 204.2389ms - 200
2022-10-30 19:39:45.192 +03:00 [INF] End processing HTTP request after 209.5451ms - 200
2022-10-30 19:39:46.356 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-30 19:39:46.909 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-10-30 19:39:47.099 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-10-30 19:39:47.166 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-10-30 19:39:47.173 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-10-30 19:39:47.178 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-10-30 19:39:47.460 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-10-30 19:39:47.632 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-10-30 19:39:47.691 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.FacebookLogin.FacebookLoginCommandResponse'.
2022-10-30 19:39:47.702 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2022-10-30 19:39:47.712 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.FacebookLogin (ETicaretAPI.API) in 3937.3479ms
2022-10-30 19:39:47.715 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.FacebookLogin (ETicaretAPI.API)'
2022-10-30 19:39:47.719 +03:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiZTNiOHVAaG90bWFpbC5jb20iLCJuYmYiOjE2NjcxNDc5ODcsImV4cCI6MTY2NzE0ODAwMiwiaXNzIjoid3d3Lm15YXBpLmNvbSIsImF1ZCI6Ind3dy5iaWxtZW1uZS5jb20ifQ.7LqHv8lgDU_xLJG1A1x8_dgkZxY_RGxcsltT7p9hHP4","expiration":"2022-10-30T16:40:02.2282028Z","refreshToken":"wF/qfDWr3/OQJtALjxvcxRx7EbXqlzv+f8WFcaKVmJY="}}
2022-10-30 19:39:47.736 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7206/api/auth/facebook-login application/json 813 - 200 - application/json;+charset=utf-8 4031.8721ms
2022-10-30 19:42:39.770 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7206/api/auth/facebook-login - -
2022-10-30 19:42:39.776 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/facebook-login
Accept: */*
Host: localhost:7206
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-10-30 19:42:39.780 +03:00 [INF] CORS policy execution successful.
2022-10-30 19:42:39.781 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-10-30 19:42:39.782 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7206/api/auth/facebook-login - - - 204 - - 12.1559ms
2022-10-30 19:42:39.798 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7206/api/auth/facebook-login application/json 813
2022-10-30 19:42:39.799 +03:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/facebook-login
Accept: application/json, text/plain, */*
Host: localhost:7206
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 813
sec-ch-ua: "Chromium";v="106", "Google Chrome";v="106", "Not;A=Brand";v="99"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-10-30 19:42:39.801 +03:00 [INF] CORS policy execution successful.
2022-10-30 19:42:39.803 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.FacebookLogin (ETicaretAPI.API)'
2022-10-30 19:42:39.805 +03:00 [INF] Route matched with {action = "FacebookLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FacebookLogin(ETicaretAPI.Application.Features.Commands.User.FacebookLogin.FacebookLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2022-10-30 19:42:39.811 +03:00 [INF] RequestBody: {"id":"137630922356968","name":"Ebubekir Aydoğmuş","email":"e3b8u@hotmail.com","photoUrl":"https://graph.facebook.com/137630922356968/picture?type=normal","firstName":"Ebubekir","lastName":"Aydoğmuş","authToken":"EAApVVKZBhCIYBABXjqpYhZCHEaNfOSt7v5eW6rmspdaHz7pfsqRliqqSN8LNqtE8YZACkcisuQPIAoi102LAv4Irx2pZBzh4ApmZCEbKqtbc4G9IzrRpwMxZBd8pmGCKOSwRgq91yxl45WwkMIp9GSZCM3iPb5hnxIU0fOZCkTjD1Y38Dfyzx323hPQOHFs6pVUHCwbkLkWtXGpMA4xZCyQhq","response":{"name":"Ebubekir Aydoğmuş","email":"e3b8u@hotmail.com","picture":{"data":{"height":51,"is_silhouette":false,"url":"https://platform-lookaside.fbsbx.com/platform/profilepic/?asid=137630922356968&height=50&width=50&ext=1669739990&hash=AeQKCBQPbpX_HBi1GM8","width":50}},"first_name":"Ebubekir","last_name":"Aydoğmuş","id":"137630922356968"},"provider":"FACEBOOK"}
2022-10-30 19:42:39.815 +03:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/oauth/access_token?client_id=2908571979286662&client_secret=43e550cf874b1648d98dbbaa69fa4dbb&grant_type=client_credentials"
2022-10-30 19:42:39.817 +03:00 [INF] Sending HTTP request GET "https://graph.facebook.com/oauth/access_token?client_id=2908571979286662&client_secret=43e550cf874b1648d98dbbaa69fa4dbb&grant_type=client_credentials"
2022-10-30 19:42:40.357 +03:00 [INF] Received HTTP response headers after 538.2158ms - 200
2022-10-30 19:42:40.359 +03:00 [INF] End processing HTTP request after 543.6877ms - 200
2022-10-30 19:42:40.360 +03:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAApVVKZBhCIYBABXjqpYhZCHEaNfOSt7v5eW6rmspdaHz7pfsqRliqqSN8LNqtE8YZACkcisuQPIAoi102LAv4Irx2pZBzh4ApmZCEbKqtbc4G9IzrRpwMxZBd8pmGCKOSwRgq91yxl45WwkMIp9GSZCM3iPb5hnxIU0fOZCkTjD1Y38Dfyzx323hPQOHFs6pVUHCwbkLkWtXGpMA4xZCyQhq&access_token=2908571979286662|FTWkpMk3XDoFa0By1SN-JVAlkKA"
2022-10-30 19:42:40.362 +03:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAApVVKZBhCIYBABXjqpYhZCHEaNfOSt7v5eW6rmspdaHz7pfsqRliqqSN8LNqtE8YZACkcisuQPIAoi102LAv4Irx2pZBzh4ApmZCEbKqtbc4G9IzrRpwMxZBd8pmGCKOSwRgq91yxl45WwkMIp9GSZCM3iPb5hnxIU0fOZCkTjD1Y38Dfyzx323hPQOHFs6pVUHCwbkLkWtXGpMA4xZCyQhq&access_token=2908571979286662|FTWkpMk3XDoFa0By1SN-JVAlkKA"
2022-10-30 19:42:40.509 +03:00 [INF] Received HTTP response headers after 144.8322ms - 200
2022-10-30 19:42:40.512 +03:00 [INF] End processing HTTP request after 151.1378ms - 200
2022-10-30 19:42:40.514 +03:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=email,name&access_token=EAApVVKZBhCIYBABXjqpYhZCHEaNfOSt7v5eW6rmspdaHz7pfsqRliqqSN8LNqtE8YZACkcisuQPIAoi102LAv4Irx2pZBzh4ApmZCEbKqtbc4G9IzrRpwMxZBd8pmGCKOSwRgq91yxl45WwkMIp9GSZCM3iPb5hnxIU0fOZCkTjD1Y38Dfyzx323hPQOHFs6pVUHCwbkLkWtXGpMA4xZCyQhq"
2022-10-30 19:42:40.517 +03:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=email,name&access_token=EAApVVKZBhCIYBABXjqpYhZCHEaNfOSt7v5eW6rmspdaHz7pfsqRliqqSN8LNqtE8YZACkcisuQPIAoi102LAv4Irx2pZBzh4ApmZCEbKqtbc4G9IzrRpwMxZBd8pmGCKOSwRgq91yxl45WwkMIp9GSZCM3iPb5hnxIU0fOZCkTjD1Y38Dfyzx323hPQOHFs6pVUHCwbkLkWtXGpMA4xZCyQhq"
2022-10-30 19:42:40.687 +03:00 [INF] Received HTTP response headers after 167.405ms - 200
2022-10-30 19:42:40.688 +03:00 [INF] End processing HTTP request after 174.3656ms - 200
2022-10-30 19:42:40.727 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-30 19:42:40.806 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-10-30 19:42:40.811 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-10-30 19:42:40.819 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-10-30 19:42:40.823 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-10-30 19:42:40.825 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-10-30 19:42:40.828 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-10-30 19:42:40.834 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-10-30 19:42:40.839 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.FacebookLogin.FacebookLoginCommandResponse'.
2022-10-30 19:42:40.840 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2022-10-30 19:42:40.842 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.FacebookLogin (ETicaretAPI.API) in 1031.3592ms
2022-10-30 19:42:40.843 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.FacebookLogin (ETicaretAPI.API)'
2022-10-30 19:42:40.844 +03:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiZTNiOHVAaG90bWFpbC5jb20iLCJuYmYiOjE2NjcxNDgxNjAsImV4cCI6MTY2NzE0ODE3NSwiaXNzIjoid3d3Lm15YXBpLmNvbSIsImF1ZCI6Ind3dy5iaWxtZW1uZS5jb20ifQ.jN9ipZkK0mxqT0tnsrTSCHi8DK5JtTdBA6XaB8VruOk","expiration":"2022-10-30T16:42:55.8265515Z","refreshToken":"e2AoZBHHTSNFBVo4dbK2np7Qx6KzfTvbysHl3zL7+1E="}}
2022-10-30 19:42:40.846 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7206/api/auth/facebook-login application/json 813 - 200 - application/json;+charset=utf-8 1048.4474ms
2022-10-30 19:42:47.125 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7206/api/products?page=0&size=5 - -
2022-10-30 19:42:47.126 +03:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7206
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2022-10-30 19:42:47.128 +03:00 [INF] CORS policy execution successful.
2022-10-30 19:42:47.129 +03:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2022-10-30 19:42:47.130 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7206/api/products?page=0&size=5 - - - 204 - - 5.5255ms
2022-10-30 19:42:47.135 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7206/api/products?page=0&size=5 - -
2022-10-30 19:42:47.142 +03:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7206
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Chromium";v="106", "Google Chrome";v="106", "Not;A=Brand";v="99"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2022-10-30 19:42:47.144 +03:00 [INF] CORS policy execution successful.
2022-10-30 19:42:47.328 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2022-10-30 19:42:47.338 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2022-10-30 19:42:47.357 +03:00 [INF] Ürün Listeleme Talep Edildi.
2022-10-30 19:42:47.362 +03:00 [INF] Get all products
2022-10-30 19:42:47.372 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-10-30 19:42:47.431 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-10-30 19:42:47.458 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-10-30 19:42:47.461 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-10-30 19:42:47.486 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreateDate", p."UpdateDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-10-30 19:42:47.499 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-10-30 19:42:47.510 +03:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2022-10-30 19:42:47.512 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 171.6205ms
2022-10-30 19:42:47.514 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2022-10-30 19:42:47.516 +03:00 [INF] ResponseBody: {"totalCount":9,"products":[{"id":"8e3a7708-79b4-41b8-b641-dfb2c18c9123","name":"Ürün 2","stock":500,"price":48.5,"createDate":"2022-10-02T15:40:45.141008Z","updateDate":"0001-01-01T00:00:00"},{"id":"9098c928-4934-46c8-855a-e4a3133587b5","name":"dasd","stock":1231,"price":41,"createDate":"2022-10-02T15:42:10.179225Z","updateDate":"0001-01-01T00:00:00"},{"id":"cea6ad24-60ac-4365-8b1c-4635dc2b6d3e","name":"asdfasgas","stock":80,"price":10,"createDate":"2022-10-02T15:47:59.631007Z","updateDate":"0001-01-01T00:00:00"},{"id":"9d404c26-f1e8-4a66-995b-0e85e33a3a7a","name":"ürün12","stock":20,"price":3000,"createDate":"2022-10-03T14:44:16.501139Z","updateDate":"0001-01-01T00:00:00"},{"id":"0a4d11f0-cbc0-4811-b4c4-718920b50265","name":"jhk","stock":10,"price":20202,"createDate":"2022-10-03T16:33:15.084716Z","updateDate":"0001-01-01T00:00:00"}]}
2022-10-30 19:42:47.519 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7206/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 384.4678ms
